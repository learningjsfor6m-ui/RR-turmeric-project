<div class="container mt-5">
  <h2>Login with variety</h2>

  <!-- Tab links -->
  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
      <a class="nav-link active" id="home-tab" data-bs-toggle="tab" href="#home" role="tab" aria-controls="home"
        aria-selected="true">Tempalte Driven form</a>
    </li>
    <li class="nav-item" role="presentation">
      <a class="nav-link" id="profile-tab" data-bs-toggle="tab" href="#profile" role="tab" aria-controls="profile"
        aria-selected="false">Reactive Form</a>
    </li>
    <li class="nav-item" role="presentation">
      <a class="nav-link" id="contact-tab" data-bs-toggle="tab" href="#contact" role="tab" aria-controls="contact"
        aria-selected="false">Signals</a>
    </li>
  </ul>

  <!-- Tab content -->
  <div class="tab-content" id="myTabContent">
    <!-- Home Tab Content -->
    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">

      <div class="login-container">
        <h3>Login</h3>
        <form name="form" method="post" #f="ngForm" (ngSubmit)="login(f)">
          <!-- Email  -->
          <label for="email"></label>
          <input type="email" [(ngModel)]="loginform.email" email #email="ngModel" class="form-input" name="email"
            id="email" placeholder="Enter your email" required minlength="6"
            [ngClass]="{'is-invalid': f.submitted && email.errors}"><br>
          @if( f.submitted && email.errors){
          <!-- <div class="invalid-feedback">-->

          <span style="color:red">{{ email.errors | charCheck:'email' }}</span>

          }

          <!-- Password  -->
          <label for="password"></label>
          <input type="password" [(ngModel)]="loginform.password" #password="ngModel" class="form-input" id="password"
            name="password" placeholder="Enter your password" minlength="8"
            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[@\/!]).{8,}$"
            [ngClass]="{'is-invalid': f.submitted && password.errors}" required><br>
          @if(f.submitted && password.errors){
          <!-- <div class="invalid-feedback"> -->
          <span style="color:red">{{ password.errors | charCheck:'email' }}</span>

          }
          <button type="submit" class="submit-btn">Login</button>
        </form>
        <div class="links">
          <a>Forgot Password?</a> | <a>Sign Up</a>
        </div>
      </div>
    </div>

    <!-- Profile Tab Content -->
    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
      <div class="login-container">
        <h3>Login</h3>
        <form [formGroup]="loginFormReactive" (ngSubmit)="submitReactiveForm()">
          <!-- Email  -->
          <label for="email" class="form-label"></label>
          <input type="email" class="form-control" formControlName="email" placeholder="Enter your email">
          @if(emailControl?.invalid && ( emailControl?.touched || emailControl?.dirty)){
          <span style="color:red">{{ emailControl?.errors | charCheck:'email' }}</span>
          <!-- @if(emailControl?.errors?.['required']){
          <span class="error-message">Required</span>
          }
          @if(emailControl?.errors?.['email']){
          <span class="error-message">email</span>
          } -->
          }

          <!-- Password  -->
          <label for="password" class="form-label"></label>
          <input type="password" class="form-control" name="password" formControlName="password"
            placeholder="Enter your Password">
          @if(passwordControl?.invalid && (passwordControl?.dirty || passwordControl?.touched)){
          <!-- <div class="invalid-feedback"> -->
          <span style="color:red">{{ passwordControl?.errors | charCheck:'password' }}</span>
          <!-- @if(passwordControl?.errors?.['required']){
          <span class="error-message">Required</span>
          }
          @if(passwordControl?.hasError('pattern')){
          <span>pattern</span>
          } -->
          <!-- </div> -->
          }
          <br>
          <button type="submit" [disabled]="loginFormReactive.invalid" class="btn btn-primary">Login</button>
        </form>
        <div class="links">
          <a>Forgot Password?</a> | <a>Sign Up</a>
        </div>
      </div>
    </div>
    <!-- Contact Tab Content -->
    <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
      <div class="login-container">
        <h3>Login</h3>
        <form (ngSubmit)="submitSignalForm()">
          <label for="email" class="form-label">Email</label>
          <input class="form-control" type="email" [field]="loginForm.email" placeholder="Enter email" />
          <form-errors [controls]="loginForm.email()"></form-errors>


          <label for="password" class="form-label">Password</label>
          <input class="form-control" type="password" [field]="loginForm.password" placeholder="Enter password" />

          <form-errors [controls]="loginForm.password()"></form-errors>

          <button type="submit" [disabled]="!loginForm().valid()">Sign In</button>
        </form>
        <div class="links">
          <a>Forgot Password?</a> | <a>Sign Up</a>
        </div>
      </div>
    </div>
  </div>
</div>
